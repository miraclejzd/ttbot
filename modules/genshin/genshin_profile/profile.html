{% extends "Frame.html" %}

{% block css %}
<link rel="stylesheet" type="text/css" href="Profile.css"/>
{% endblock %}

{% block main %}
<div class="basic">
    <div class="main-pic"
         style="background-image:url('./statics/character/{{char.name}}/imgs/splash.webp')"></div>
    <div class="detail">
        <div class="char-name">{{char.name}}</div>
        <div class="char-lv">UID {{uid}} - Lv.{{char.level}}
            <span class="cons cons-{{char.cons}}">{{char.cons}}命</span></div>
        <div class="char-talents">
            {% for key in talentMap%}
            {% set talent = char.talent[key] %}
            <div class="talent-item">
                <div class="talent-icon
                    {% if talent['plus'] %}talent-plus{%endif%}
                    {% if talent['crown'] %}talent-crown{%endif%}">
                    <div class="talent-icon-img"
                         style="background-image:url('./statics/character/{{char.name}}/icons/talent-{{key}}.webp')"></div>
                    <span>{{talent['level']}}</span>
                </div>
            </div>
            {% endfor %}
        </div>
        <ul class="attr">
            <li><i class="i-hp"></i>生命值<strong>{{char.BaseHp}}</strong><span>(+{{char.ExtraHp}})</span></li>
            <li><i class="i-atk"></i>攻击力<strong>{{char.BaseAtk}}</strong><span>(+{{char.ExtraAtk}})</span></li>
            <li><i class="i-def"></i>防御力<strong>{{char.BaseDef}}</strong><span>(+{{char.ExtraDef}})</span></li>
            <li><i class="i-mastery"></i>元素精通<strong>{{char.Mastery}}</strong></li>
            <li><i class="i-cr"></i>暴击率<strong>{{char.Cpct}}</strong></li>
            <li><i class="i-cd"></i>暴击伤害<strong>{{char.Cdmg}}</strong></li>
            <li><i class="i-re"></i>元素充能<strong>{{char.Recharge}}</strong></li>
            <li><i class="i-dmg"></i>伤害加成<strong>{{char.Dmg}}</strong></li>
        </ul>
    </div>

    <div class="char-cons">
        {% set cons = [1,2,3,4,5,6] %}
        {% for idx in cons %}
        <div class="cons-item">
            <div class="talent-icon {% if idx * 1 > char.cons * 1 %}off{%endif%}">
                <div class="talent-icon-img"
                     style="background-image:url('./statics/character/{{char.name}}/icons/cons-{{idx}}.webp')"></div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="data-info">
        <span>数据来源：Enka.Network，UI界面参考Miao-plugin</span>
        <span class="time">{{updateTime}}</span>
    </div>
</div>

{% set ad=artisDetail %}
<div class="artis">
    <div>
        <div class="item weapon">
            <div class="img" style="background-image:url('./statics/weapon/{{weapon.name}}/icon.webp')"></div>
            <div class="head">
                <strong>{{weapon.name}}</strong>
                <div class="star star-{{weapon.star}}"></div>
                <span>Lv.{{weapon.level}} <span
                        class="affix affix-{{weapon.affix}}">精{{weapon.affix}}</span></span>
            </div>
        </div>
        <div class="item arti-stat">
            <div class="arti-class-title">评分规则：{{char.name}}-通用</div>
            <div class="arti-stat-ret">
                <div><strong class="mark-{{ad.markClass}}">{{ad.markClass}}</strong><span>圣遗物评级</span></div>
                <div><strong>{{ad.mark}}</strong><span>圣遗物总分</span></div>
            </div>
        </div>
    </div>
    {% for ds in ad.artis %}
    <div class="item arti">
        <div class="arti-icon">
            <div class="img"
                 style="background-image:url('./statics/artifact/{{ds.set}}/{{ds.id}}.webp')"></div>
            <span>+{{ds.level}}</span>
        </div>
        <div class="head">
            <strong>{{ds.name}}</strong>
            <span class="mark mark-{{ds.markClass}}"><span>{{ds.mark}}分</span> - {{ds.markClass}}</span>
        </div>
        <ul class="detail attr">
            <li class="arti-main"><span class="title">{{ds.key}}</span><span class="val">+{{ds.value}}</span>
            </li>
            {% set weight = char.attrWeight%}
            {% for attr in ds.attrs %}
            <li class="{% if attr.key not in weight%}nouse{% elif weight[attr.key]*1 > 79.9 %}great{% else %}useful{%endif%}">
                <span class="title"> {% if attr['upNum'] %}<i class="up-num up-{{attr['upNum']}}"></i>{% endif %}{{attr['key']}}</span>
                <span class="val">+{{attr['valueText']}}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>
{% endblock %}